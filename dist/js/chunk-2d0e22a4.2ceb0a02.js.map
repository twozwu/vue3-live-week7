{"version":3,"sources":["webpack:///./src/views/admin/DashBoard.vue","webpack:///./src/views/admin/DashBoard.vue?0f00"],"names":["class","id","to","href","signout","checkSuccess","data","methods","checkLogin","token","document","cookie","replace","this","axios","defaults","headers","common","Authorization","api","post","api_token","then","res","success","$httpToastMessage","$router","push","mounted","render"],"mappings":"4IACOA,MAAM,yB,EACT,yBAAiB,UAAb,YAAQ,G,GACPC,GAAG,O,+BACc,Q,+BAAkB,O,+BACJ,U,+BAAoB,O,+BACtB,Q,+BAAkB,O,+BACjB,S,+BAAmB,O,uMANxD,yBASM,MATN,EASM,CARJ,EACA,yBAMM,MANN,EAMM,CALJ,yBAAsC,GAAzBC,GAAG,KAAG,C,8BAAC,iBAAI,C,cACxB,yBAAsD,GAAzCA,GAAG,mBAAiB,C,8BAAC,iBAAM,C,cACxC,yBAAkD,GAArCA,GAAG,iBAAe,C,8BAAC,iBAAI,C,cACpC,yBAAoD,GAAvCA,GAAG,kBAAgB,C,8BAAC,iBAAK,C,cACtC,yBAA2C,KAAxCC,KAAK,IAAK,QAAK,0DAAU,EAAAC,SAAA,EAAAA,QAAA,qBAAO,eAAE,UAGtB,EAAAC,c,yBAAnB,yBAA+C,Y,oEAIlC,GACbC,KADa,WAEX,MAAO,CACLD,cAAc,IAGlBE,QAAS,CACPC,WADO,WACM,WACLC,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACxF,GAAIH,EAAO,CACTI,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAnC,UAAsDT,GAEtD,IAAMU,EAAE,UAAO,uCAAP,mBACRN,KAAKC,MAAMM,KAAKD,EAAK,CAAEE,UAAWR,KAAKJ,QAASa,MAAK,SAACC,GAChDA,EAAIjB,KAAKkB,SACX,EAAKnB,cAAe,EACpB,EAAKoB,kBAAkBF,EAAK,UAE5B,EAAKlB,cAAe,EACpB,EAAKqB,QAAQC,KAAK,mBAItBd,KAAKY,mBAAkB,EAAO,eAC9BZ,KAAKa,QAAQC,KAAK,WAGtBvB,QArBO,WAsBLM,SAASC,OAAS,sBAClBE,KAAKY,mBAAkB,EAAM,aAC7BZ,KAAKa,QAAQC,KAAK,YAGtBC,QAjCa,WAkCXf,KAAKL,eC9CT,EAAOqB,OAASA,EAED","file":"js/chunk-2d0e22a4.2ceb0a02.js","sourcesContent":["<template>\n  <div class=\"container text-center\">\n    <h1>你現在在後台頁面</h1>\n    <div id=\"nav\">\n      <router-link to=\"/\">回到前台</router-link> |\n      <router-link to=\"/admin/products\">後台產品列表</router-link> |\n      <router-link to=\"/admin/orders\">後台訂單</router-link> |\n      <router-link to=\"/admin/coupons\">優惠券列表</router-link> |\n      <a href=\"#\" @click.prevent=\"signout\">登出</a>\n    </div>\n  </div>\n  <router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      checkSuccess: false,\n    };\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      if (token) {\n        this.axios.defaults.headers.common.Authorization = `${token}`;\n\n        const api = `${process.env.VUE_APP_API}/api/user/check`;\n        this.axios.post(api, { api_token: this.token }).then((res) => {\n          if (res.data.success) {\n            this.checkSuccess = true;\n            this.$httpToastMessage(res, '您已登入');\n          } else {\n            this.checkSuccess = false;\n            this.$router.push('/login');\n          }\n        });\n      } else {\n        this.$httpToastMessage(false, '您尚未登入，請重新登入');\n        this.$router.push('/login');\n      }\n    },\n    signout() {\n      document.cookie = 'hexToken=;expires=;';\n      this.$httpToastMessage(true, 'token 已清除');\n      this.$router.push('/login');\n    },\n  },\n  mounted() {\n    this.checkLogin();\n  },\n};\n</script>\n","import { render } from \"./DashBoard.vue?vue&type=template&id=5e8c7fb4\"\nimport script from \"./DashBoard.vue?vue&type=script&lang=js\"\nexport * from \"./DashBoard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}