{"version":3,"sources":["webpack:///./src/views/admin/Login.vue","webpack:///./src/views/admin/Login.vue?cf37"],"names":["class","for","type","signIn","errors","id","name","placeholder","user","username","autofocus","rules","password","data","methods","api","this","$http","post","then","response","success","token","expired","document","cookie","Date","$router","push","$httpToastMessage","message","render"],"mappings":"4IACOA,MAAM,kB,GAEFA,MAAM,Y,EACT,yBAAgD,MAA5CA,MAAM,8BAA6B,QAAI,G,GAEtCA,MAAM,Q,EACT,yBAA6D,SAAtDC,IAAI,aAAaD,MAAM,WAAU,iBAAa,G,GAclDA,MAAM,Q,EACT,yBAA2D,SAApDC,IAAI,gBAAgBD,MAAM,WAAU,YAAQ,G,EAcrD,yBAEM,OAFDA,MAAM,iBAAe,CACxB,yBAA0E,UAAlEA,MAAM,mCAAmCE,KAAK,UAAS,Q,iMApCvE,yBAwCM,MAxCN,EAwCM,CAvCJ,yBAsCO,GAtCDF,MAAM,6BAAkD,SAAQ,EAAAG,Q,+BACpE,gBADiDC,EACjD,EADiDA,OACjD,MADuD,CACvD,yBAoCM,MApCN,EAoCM,CAnCJ,EAEA,yBAcM,MAdN,EAcM,CAbJ,EACA,yBAUE,GATAF,KAAK,QACLG,GAAG,QACHC,KAAK,KACLN,MAAK,CAAC,eAAc,cAIII,EAAO,QAH/BG,YAAY,gB,WACH,EAAAC,KAAKC,S,qDAAL,EAAAD,KAAKC,SAAQ,IACtBC,UAAA,GAEAC,MAAM,kB,+BAER,yBAAkE,GAAnDL,KAAK,KAAKN,MAAM,uBAEjC,yBAaM,MAbN,EAaM,CAZJ,EACA,yBASE,GARAE,KAAK,WACLG,GAAG,gBACHC,KAAK,KACLN,MAAK,CAAC,eAAc,cAGII,EAAO,Q,WAFtB,EAAAI,KAAKI,S,qDAAL,EAAAJ,KAAKI,SAAQ,IACtBL,YAAY,WAEZI,MAAM,Y,+BAER,yBAAkE,GAAnDL,KAAK,KAAKN,MAAM,uBAGjC,Q,qCASO,GACba,KADa,WAEX,MAAO,CACLL,KAAM,KAGVM,QAAS,CACPX,OADO,WACE,WACDY,EAAE,UAAO,uCAAP,iBACRC,KAAKC,MAAMC,KAAKH,EAAKC,KAAKR,MAAMW,MAAK,SAACC,GACpC,GAAIA,EAASP,KAAKQ,QAAS,CACzB,MAA2BD,EAASP,KAA5BS,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QACfC,SAASC,OAAT,mBAA8BH,EAA9B,oBAA+C,IAAII,KAAKH,GAAxD,KACA,EAAKI,QAAQC,KAAK,wBAElB,EAAKC,kBAAkBT,EAAUA,EAASP,KAAKiB,eCzDzD,EAAOC,OAASA,EAED","file":"js/chunk-2d0d0262.bc3c20bb.js","sourcesContent":["<template>\n  <div class=\"container mt-5\">\n    <Form class=\"row justify-content-center\" v-slot=\"{ errors }\" @submit=\"signIn\">\n      <div class=\"col-md-6\">\n        <h1 class=\"h3 mb-3 font-weight-normal\">請先登入</h1>\n\n        <div class=\"mb-2\">\n          <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n          <Field\n            type=\"email\"\n            id=\"email\"\n            name=\"信箱\"\n            class=\"form-control\"\n            placeholder=\"Email address\"\n            v-model=\"user.username\"\n            autofocus\n            :class=\"{ 'is-invalid': errors['信箱'] }\"\n            rules=\"email|required\"\n          />\n          <error-message name=\"信箱\" class=\"invalid-feedback\"></error-message>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n          <Field\n            type=\"password\"\n            id=\"inputPassword\"\n            name=\"密碼\"\n            class=\"form-control\"\n            v-model=\"user.password\"\n            placeholder=\"Password\"\n            :class=\"{ 'is-invalid': errors['密碼'] }\"\n            rules=\"required\"\n          />\n          <error-message name=\"密碼\" class=\"invalid-feedback\"></error-message>\n        </div>\n\n        <div class=\"text-end mt-4\">\n          <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\n        </div>\n      </div>\n    </Form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {},\n    };\n  },\n  methods: {\n    signIn() {\n      const api = `${process.env.VUE_APP_API}/admin/signin`;\n      this.$http.post(api, this.user).then((response) => {\n        if (response.data.success) {\n          const { token, expired } = response.data;\n          document.cookie = `hexToken=${token};expires=${new Date(expired)};`;\n          this.$router.push('/admin/products');\n        } else {\n          this.$httpToastMessage(response, response.data.message);\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=f82178a4\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}