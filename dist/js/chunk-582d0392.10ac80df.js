(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-582d0392"],{b0c0:function(e,t,c){var o=c("83ab"),r=c("9bf2").f,a=Function.prototype,s=a.toString,l=/^\s*function ([^ (]*)/,d="name";o&&!(d in a)&&r(a,d,{configurable:!0,get:function(){try{return s.call(this).match(l)[1]}catch(e){return""}}})},cf2a:function(e,t,c){"use strict";c.r(t);c("b0c0");var o=c("7a23"),r={class:"mt-3"},a={key:0,class:"my-5 my-md-6 text-center"},s={key:1,class:"my-5 my-md-6 text-center"},l={key:2,class:"row px-md-6"},d={class:"col-md-7"},n={class:"table table-hover"},i={class:"table-chocolate"},b={key:0,scope:"col",colspan:"2",class:"text-center fw-light"},u={key:1,scope:"col",colspan:"2",class:"text-center fw-light"},p=Object(o["createVNode"])("th",{class:"text-muted"},"訂購時間",-1),O=Object(o["createVNode"])("th",{class:"text-muted"},"訂購 ID",-1),j=Object(o["createVNode"])("th",{class:"text-muted"},"訂購人",-1),h=Object(o["createVNode"])("th",{class:"text-muted"},"聯絡信箱",-1),m=Object(o["createVNode"])("th",{class:"text-muted"},"聯絡電話",-1),N=Object(o["createVNode"])("th",{class:"text-muted"},"地址",-1),f=Object(o["createVNode"])("th",{class:"text-muted"},"您的備註",-1),V=Object(o["createVNode"])("th",{class:"text-muted"},"付款狀態",-1),g={class:"d-flex mt-4 justify-content-between align-items-end"},y={href:"#/products",class:"text-dark mt-md-0 mt-3 align-self-center"},k=Object(o["createTextVNode"])(" 繼續購物"),x={class:"col-md-5"},v={class:"border p-4 mb-4"},w=Object(o["createVNode"])("h4",{class:" mb-4"},"我的訂單",-1),B={class:"w-100"},D={class:"d-flex justify-content-between"},S={class:"mb-0 fw-bold"},$={class:"mb-0"},L={class:"mb-0 fw-normal"},T={class:"table text-muted border-top border-bottom mt-4"},C=Object(o["createVNode"])("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"原價",-1),I={class:"text-end border-0 px-0 pt-4"},M=Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"付款方式"),Object(o["createVNode"])("td",{class:"text-end border-0 px-0 pt-0 pb-4"},"ApplePay")],-1),_={class:"d-flex justify-content-between mt-4"},P=Object(o["createVNode"])("p",{class:"mb-0 h4 fw-bold"},"總計",-1),F={class:"mb-0 h4 fw-bold"},J={key:1,class:"btn btn-chocolight w-100 mt-4",disabled:""};function U(e,t,c,U,q,A){var z=Object(o["resolveComponent"])("font-awesome-icon");return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[q.order.id?(Object(o["openBlock"])(),Object(o["createBlock"])("h3",a," 感謝您的訂購，歡迎再度光臨！ ")):(Object(o["openBlock"])(),Object(o["createBlock"])("h3",s," 您好，查無您的訂單，請確認後重新輸入。 ")),q.order.id?(Object(o["openBlock"])(),Object(o["createBlock"])("div",l,[Object(o["createVNode"])("div",d,[Object(o["createVNode"])("table",n,[Object(o["createVNode"])("thead",i,[Object(o["createVNode"])("tr",null,[q.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("th",b," 以下是您的訂購資訊， 請確認後進行付款。 ")):(Object(o["openBlock"])(),Object(o["createBlock"])("th",u," 以下是您的訂購資訊， 感謝您的訂購。 "))])]),Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[p,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])((new Date).toLocaleString(q.order.create_at)),1)]),Object(o["createVNode"])("tr",null,[O,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("input",{ref:"orderID",type:"text",value:q.order.id,class:"form-control mb-2"},null,8,["value"]),Object(o["createVNode"])("input",{type:"button",value:"點我複製以便查詢",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return A.copyOrderID&&A.copyOrderID.apply(A,arguments)}),["prevent"])),class:"btn btn-outline-chocolight"})])]),Object(o["createVNode"])("tr",null,[j,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(q.order.user.name),1)]),Object(o["createVNode"])("tr",null,[h,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(q.order.user.email),1)]),Object(o["createVNode"])("tr",null,[m,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(q.order.user.tel),1)]),Object(o["createVNode"])("tr",null,[N,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(q.order.user.address),1)]),Object(o["createVNode"])("tr",null,[f,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(q.order.message),1)]),Object(o["createVNode"])("tr",null,[V,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(q.order.is_paid?"已付款":"尚未付款"),1)])])]),Object(o["createVNode"])("div",g,[Object(o["createVNode"])("a",y,[Object(o["createVNode"])(z,{icon:"chevron-left",class:"fas fa-chevron-left me-2"}),k])])]),Object(o["createVNode"])("div",x,[Object(o["createVNode"])("div",v,[w,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(q.order.products,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"d-flex mb-2",key:t.product.id},[Object(o["createVNode"])("img",{src:t.product.imageUrl,alt:t.product.title,class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,["src","alt"]),Object(o["createVNode"])("div",B,[Object(o["createVNode"])("div",D,[Object(o["createVNode"])("p",S,Object(o["toDisplayString"])(t.product.title),1),Object(o["createVNode"])("p",$,"NT$"+Object(o["toDisplayString"])(e.$filter.currency(t.product.price)),1)]),Object(o["createVNode"])("p",L,"x"+Object(o["toDisplayString"])(t.qty+t.product.unit),1)])])})),128)),Object(o["createVNode"])("table",T,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[C,Object(o["createVNode"])("td",I,"NT$"+Object(o["toDisplayString"])(e.$filter.currency(q.order.total)),1)]),M])]),Object(o["createVNode"])("div",_,[P,Object(o["createVNode"])("p",F,"NT$"+Object(o["toDisplayString"])(e.$filter.currency(q.order.total)),1)]),q.order.is_paid?(Object(o["openBlock"])(),Object(o["createBlock"])("button",J,"訂單已完成")):(Object(o["openBlock"])(),Object(o["createBlock"])("a",{key:0,href:"#/products",class:"btn btn-chocolight w-100 mt-4",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return A.checkout&&A.checkout.apply(A,arguments)}),["prevent"]))},"由此付款"))])])])):Object(o["createCommentVNode"])("",!0)])}c("99af");var q={components:{},data:function(){return{apiUrl:"https://vue3-course-api.hexschool.io",apiPath:"chocolate",order:{id:"",user:{},is_paid:!1},loadingStatus:"",isLoading:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("chocolate","/order/").concat(this.$route.params.id);this.emitter.emit("isLoading",!0),this.axios.get(t).then((function(t){t.data.success&&t.data.order?e.order=t.data.order:e.$httpToastMessage(!1,"查無此訂單"),e.emitter.emit("isLoading",!1)})).catch((function(t){console.log(t),e.$httpToastMessage(!1,"無法取得資料喔～")}))},checkout:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("chocolate","/pay/").concat(this.$route.params.id);this.emitter.emit("isLoading",!0),this.axios.post(t).then((function(t){t.data.success?(e.$httpToastMessage(t,t.data.message),e.$router.push("/success")):e.$httpToastMessage(t,t.data.message),e.emitter.emit("isLoading",!1)})).catch((function(t){console.log(t),e.emitter.emit("isLoading",!1)}))},copyOrderID:function(){document.execCommand("Copy",!1,this.$refs.orderID.select())}},watch:{$route:function(){this.getOrder()}},mounted:function(){this.getOrder(),this.emitter.emit("toProgress",100)}};q.render=U;t["default"]=q}}]);
//# sourceMappingURL=chunk-582d0392.10ac80df.js.map