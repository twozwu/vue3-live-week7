(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50bcdc0e"],{2532:function(t,e,a){"use strict";var c=a("23e7"),o=a("5a34"),i=a("1d80"),r=a("ab13");c({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},2943:function(t,e,a){},"2ac8":function(t,e,a){"use strict";var c=a("7a23"),o=Object(c["withScopeId"])("data-v-06597d56");Object(c["pushScopeId"])("data-v-06597d56");var i=Object(c["createVNode"])("img",{src:"https://bi.im-g.pl/im/a5/71/17/z24584101AMP,Kakao.jpg",class:"card-img-top rounded-0 mh-500",alt:"..."},null,-1),r=Object(c["createVNode"])("img",{src:"https://nutrativa.com.br/wp-content/uploads/2020/03/0319202001-polifen%C3%B3is-banner.jpg",class:"card-img-top rounded-0 mh-500",alt:"..."},null,-1),n=Object(c["createVNode"])("img",{src:"https://cdn1.matadornetwork.com/blogs/2/2020/01/Chocolate-mexicano-historia-1200x853.jpg",class:"card-img-top rounded-0 mh-500",alt:"..."},null,-1),s=Object(c["createVNode"])("img",{src:"https://i.pinimg.com/originals/ce/16/75/ce16757f71272ee9a7bab2434a99350c.jpg",class:"card-img-top rounded-0 mh-500",style:{"object-position":"center 35%"},alt:"..."},null,-1);Object(c["popScopeId"])();var d=o((function(t,e,a,d,l,u){var p=Object(c["resolveComponent"])("swiper-slide"),h=Object(c["resolveComponent"])("swiper");return Object(c["openBlock"])(),Object(c["createBlock"])(h,{slidesPerView:1,spaceBetween:30,centeredSlides:!1,autoplay:{delay:5e3,disableOnInteraction:!1},class:"mySwiper"},{default:o((function(){return[Object(c["createVNode"])(p,null,{default:o((function(){return[i]})),_:1}),Object(c["createVNode"])(p,null,{default:o((function(){return[r]})),_:1}),Object(c["createVNode"])(p,null,{default:o((function(){return[n]})),_:1}),Object(c["createVNode"])(p,null,{default:o((function(){return[s]})),_:1})]})),_:1})})),l=a("90ea"),u=a("a16a"),p=(a("5f67"),a("6d3b")),h=a("d17a");p["a"].use([h["a"]]);var f={components:{Swiper:l["a"],SwiperSlide:u["a"]}};a("8a87");f.render=d,f.__scopeId="data-v-06597d56";e["a"]=f},"44e7":function(t,e,a){var c=a("861d"),o=a("c6b6"),i=a("b622"),r=i("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},"5a34":function(t,e,a){var c=a("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},"692e":function(t,e,a){"use strict";a("841a")},"841a":function(t,e,a){},"8a87":function(t,e,a){"use strict";a("2943")},a09f:function(t,e,a){"use strict";a.r(e);a("caad"),a("2532");var c=a("7a23"),o={class:"container-xl"},i={key:0,class:"row"},r=Object(c["createVNode"])("p",{class:"h3 text-center"},"我的最愛項目為空",-1),n={key:1,class:"row"},s={class:"card border-0 mb-4 position-relative"},d={class:"position-relative"},l={class:"card-body p-0"},u={class:"mb-0 mt-3 fw-bold text-truncate"},p={class:"card-text mb-0"},h={class:"text-muted "},f=Object(c["createVNode"])("p",{class:"text-muted mt-3"},null,-1),b={class:"row g-1 justify-content-around"},m=Object(c["createTextVNode"])("詳細資料"),v=Object(c["createTextVNode"])("加入購物車 ");function g(t,e,a,g,j,O){var N=Object(c["resolveComponent"])("loading"),y=Object(c["resolveComponent"])("swiper-header"),V=Object(c["resolveComponent"])("router-link"),k=Object(c["resolveComponent"])("font-awesome-icon");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(N,{active:j.isLoading},null,8,["active"]),Object(c["createVNode"])(y,{class:"mb-lg-5 mb-4"}),Object(c["createVNode"])("div",o,[j.favoriteItems.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",n,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(j.favoriteItems,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"col-md-6 col-lg-4 cardBorder pt-2",key:e.id},[Object(c["createVNode"])("div",s,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])("a",{href:"#/detail/".concat(e.id),class:"imgTop"},[Object(c["createVNode"])("img",{src:e.imageUrl,class:"card-img-top rounded-0 max-height ",alt:e.title},null,8,["src","alt"])],8,["href"])]),Object(c["createVNode"])("a",{href:"#",class:" text-dark",onClick:Object(c["withModifiers"])((function(t){return O.addFavorite(e)}),["prevent"])},[Object(c["createVNode"])("i",{class:["far fa-heart position-absolute",{fas:j.myFavorite.includes(e.id),"text-danger":j.myFavorite.includes(e.id)}],style:{right:"16px",top:"16px"}},null,2)],8,["onClick"]),Object(c["createVNode"])("div",l,[Object(c["createVNode"])("h5",u,[Object(c["createVNode"])("a",{href:"#/detail/".concat(e.id)},Object(c["toDisplayString"])(e.title),9,["href"])]),Object(c["createVNode"])("p",p,[Object(c["createTextVNode"])(" NT$"+Object(c["toDisplayString"])(t.$filter.currency(e.price))+" ",1),Object(c["createVNode"])("span",h,[Object(c["createVNode"])("del",null,"NT$"+Object(c["toDisplayString"])(t.$filter.currency(e.origin_price)),1)])]),f,Object(c["createVNode"])("div",b,[Object(c["createVNode"])(V,{class:"col-5 btn btn-outline-chocolate",to:"/detail/".concat(e.id)},{default:Object(c["withCtx"])((function(){return[m]})),_:2},1032,["to"]),Object(c["createVNode"])("button",{class:"col-5 px-md-1 btn btn-chocolight",onClick:function(t){return O.addToCart(e.id)}},[j.loadingStatus==e.id?(Object(c["openBlock"])(),Object(c["createBlock"])(k,{key:0,icon:"spinner",pulse:"",class:"fas fa-spinner fa-pulse"})):Object(c["createCommentVNode"])("",!0),v],8,["onClick"])])])])])})),128))])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",i,[r]))])],64)}a("99af"),a("a434");var j=a("2ac8"),O=a("3a5e"),N={components:{SwiperHeader:j["a"],Loading:O["a"]},data:function(){return{apiUrl:"https://vue3-course-api.hexschool.io",apiPath:"chocolate",products:{},tempProducts:{},loadingStatus:"",isActive:"all",isLoading:!1,myFavorite:[],favoriteItems:[]}},methods:{favoriteSet:function(t){var e=JSON.stringify(t);localStorage.setItem("favorite",e)},favoriteGet:function(){var t=localStorage.getItem("favorite");t&&(this.myFavorite=JSON.parse(t))},getData:function(){var t=this;this.isLoading=!0,this.axios.get("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/products/all")).then((function(e){e.data.success?(t.products=e.data.products,t.favoriteFilter()):t.$httpToastMessage(e,e.data.message),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.$httpToastMessage(!1,e)}))},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loadingStatus=t;var c={product_id:t,qty:a},o="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart");this.axios.post(o,{data:c}).then((function(t){t.data.success?(e.$httpToastMessage(t,"加入購物車"),e.emitter.emit("navGetCart")):e.$httpToastMessage(t,t.data.message),e.loadingStatus=""})).catch((function(t){e.loadingStatus="",e.$httpToastMessage(!1,t)}))},favoriteFilter:function(){for(var t=0;t<this.myFavorite.length;t+=1)for(var e=0;e<this.products.length;e+=1)this.myFavorite[t]===this.products[e].id&&this.favoriteItems.push(this.products[e])},addFavorite:function(t){this.myFavorite.includes(t.id)?(this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.$httpToastMessage(!1,"移除我的最愛 成功"),this.favoriteItems.splice(this.favoriteItems.indexOf(t),1)):(this.myFavorite.push(t.id),this.$httpToastMessage(!0,"加入我的最愛 成功")),this.favoriteSet(this.myFavorite),this.emitter.emit("navFavoriteLength")}},created:function(){var t=this;this.emitter.on("productsBus",(function(e){t.products=e}))},unmounted:function(){this.emitter.off("productsBus")},mounted:function(){this.getData(),this.favoriteGet()}};a("692e");N.render=g;e["default"]=N},ab13:function(t,e,a){var c=a("b622"),o=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[o]=!1,"/./"[t](e)}catch(c){}}return!1}},caad:function(t,e,a){"use strict";var c=a("23e7"),o=a("4d64").includes,i=a("44d2");c({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")}}]);
//# sourceMappingURL=chunk-50bcdc0e.bf61293d.js.map