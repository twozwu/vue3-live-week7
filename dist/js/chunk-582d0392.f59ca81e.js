(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-582d0392"],{b0c0:function(e,t,c){var o=c("83ab"),r=c("9bf2").f,a=Function.prototype,s=a.toString,d=/^\s*function ([^ (]*)/,l="name";o&&!(l in a)&&r(a,l,{configurable:!0,get:function(){try{return s.call(this).match(d)[1]}catch(e){return""}}})},cf2a:function(e,t,c){"use strict";c.r(t);c("b0c0");var o=c("7a23"),r={class:"mt-3"},a=Object(o["createVNode"])("h3",{class:"my-5 my-md-6 text-center"}," 感謝您的訂購，歡迎再度光臨！ ",-1),s={class:"row px-md-6"},d={class:"col-md-7"},l={class:"table table-hover"},n=Object(o["createVNode"])("thead",{class:"table-chocolate"},[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{scope:"col",colspan:"2",class:"text-center fw-light"}," 以下是您的訂購資訊， 請確認後進行付款。 ")])],-1),i=Object(o["createVNode"])("th",{class:"text-muted"},"訂購時間",-1),b=Object(o["createVNode"])("th",{class:"text-muted"},"訂購 ID",-1),u=Object(o["createVNode"])("th",{class:"text-muted"},"訂購人",-1),p=Object(o["createVNode"])("th",{class:"text-muted"},"聯絡信箱",-1),O=Object(o["createVNode"])("th",{class:"text-muted"},"聯絡電話",-1),j=Object(o["createVNode"])("th",{class:"text-muted"},"地址",-1),h=Object(o["createVNode"])("th",{class:"text-muted"},"您的備註",-1),m=Object(o["createVNode"])("th",{class:"text-muted"},"付款狀態",-1),N={class:"d-flex mt-4 justify-content-between align-items-end"},V={href:"#/products",class:"text-dark mt-md-0 mt-3 align-self-center"},f=Object(o["createTextVNode"])(" 繼續購物"),g={class:"col-md-5"},y={class:"border p-4 mb-4"},x=Object(o["createVNode"])("h4",{class:" mb-4"},"我的訂單",-1),v={class:"w-100"},w={class:"d-flex justify-content-between"},D={class:"mb-0 fw-bold"},k={class:"mb-0"},S={class:"mb-0 fw-normal"},$={class:"table text-muted border-top border-bottom mt-4"},L=Object(o["createVNode"])("th",{scope:"row",class:"border-0 px-0 pt-4 font-weight-normal"},"原價",-1),T={class:"text-end border-0 px-0 pt-4"},B=Object(o["createVNode"])("tr",null,[Object(o["createVNode"])("th",{scope:"row",class:"border-0 px-0 pt-0 pb-4 font-weight-normal"},"付款方式"),Object(o["createVNode"])("td",{class:"text-end border-0 px-0 pt-0 pb-4"},"ApplePay")],-1),I={class:"d-flex justify-content-between mt-4"},C=Object(o["createVNode"])("p",{class:"mb-0 h4 fw-bold"},"總計",-1),M={class:"mb-0 h4 fw-bold"};function P(e,t,c,P,F,J){var U=Object(o["resolveComponent"])("font-awesome-icon");return Object(o["openBlock"])(),Object(o["createBlock"])("div",r,[a,Object(o["createVNode"])("div",s,[Object(o["createVNode"])("div",d,[Object(o["createVNode"])("table",l,[n,Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[i,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])((new Date).toLocaleString(F.order.create_at)),1)]),Object(o["createVNode"])("tr",null,[b,Object(o["createVNode"])("td",null,[Object(o["createVNode"])("input",{ref:"orderID",type:"text",value:F.order.id,class:"form-control mb-2"},null,8,["value"]),Object(o["createVNode"])("input",{type:"button",value:"點我複製以便查詢",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(){return J.copyOrderID&&J.copyOrderID.apply(J,arguments)}),["prevent"])),class:"btn btn-outline-chocolight"})])]),Object(o["createVNode"])("tr",null,[u,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(F.order.user.name),1)]),Object(o["createVNode"])("tr",null,[p,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(F.order.user.email),1)]),Object(o["createVNode"])("tr",null,[O,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(F.order.user.tel),1)]),Object(o["createVNode"])("tr",null,[j,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(F.order.user.address),1)]),Object(o["createVNode"])("tr",null,[h,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(F.order.message),1)]),Object(o["createVNode"])("tr",null,[m,Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(F.order.is_paid?"已付款":"尚未付款"),1)])])]),Object(o["createVNode"])("div",N,[Object(o["createVNode"])("a",V,[Object(o["createVNode"])(U,{icon:"chevron-left",class:"fas fa-chevron-left me-2"}),f])])]),Object(o["createVNode"])("div",g,[Object(o["createVNode"])("div",y,[x,(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(F.order.products,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"d-flex mb-2",key:t.product.id},[Object(o["createVNode"])("img",{src:t.product.imageUrl,alt:t.product.title,class:"me-2",style:{width:"48px",height:"48px","object-fit":"cover"}},null,8,["src","alt"]),Object(o["createVNode"])("div",v,[Object(o["createVNode"])("div",w,[Object(o["createVNode"])("p",D,Object(o["toDisplayString"])(t.product.title),1),Object(o["createVNode"])("p",k,"NT$"+Object(o["toDisplayString"])(e.$filter.currency(t.product.price)),1)]),Object(o["createVNode"])("p",S,"x"+Object(o["toDisplayString"])(t.qty+t.product.unit),1)])])})),128)),Object(o["createVNode"])("table",$,[Object(o["createVNode"])("tbody",null,[Object(o["createVNode"])("tr",null,[L,Object(o["createVNode"])("td",T,"NT$"+Object(o["toDisplayString"])(e.$filter.currency(F.order.total)),1)]),B])]),Object(o["createVNode"])("div",I,[C,Object(o["createVNode"])("p",M,"NT$"+Object(o["toDisplayString"])(e.$filter.currency(F.order.total)),1)]),Object(o["createVNode"])("a",{href:"#/products",class:"btn btn-chocolight w-100 mt-4",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return J.checkout&&J.checkout.apply(J,arguments)}),["prevent"]))},"由此付款")])])])])}c("99af");var F={components:{},data:function(){return{apiUrl:"https://vue3-course-api.hexschool.io",apiPath:"chocolate",order:{user:{}},loadingStatus:"",isLoading:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("chocolate","/order/").concat(this.$route.params.id);this.emitter.emit("isLoading",!0),this.axios.get(t).then((function(t){t.data.success?(e.order=t.data.order,console.log(e.order)):e.$httpToastMessage(t,t.data.message),e.emitter.emit("isLoading",!1)})).catch((function(e){console.log(e)}))},checkout:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("chocolate","/pay/").concat(this.$route.params.id);this.emitter.emit("isLoading",!0),this.axios.post(t).then((function(t){t.data.success?(e.$httpToastMessage(t,t.data.message),e.$router.push("/success")):e.$httpToastMessage(t,t.data.message),e.emitter.emit("isLoading",!1)})).catch((function(e){console.log(e)}))},copyOrderID:function(){document.execCommand("Copy",!1,this.$refs.orderID.select())}},mounted:function(){this.getOrder(),this.emitter.emit("toProgress",100)}};F.render=P;t["default"]=F}}]);
//# sourceMappingURL=chunk-582d0392.f59ca81e.js.map