{"version":3,"sources":["webpack:///./src/views/Detail.vue?01c0","webpack:///./src/views/Detail.vue","webpack:///./src/views/Detail.vue?8ed3"],"names":["class","active","isLoading","src","product","imageUrl","alt","title","content","description","$filter","currency","origin_price","price","type","id","disabled","qty","icon","ref","aria-label","aria-describedby","loadingStatus","href","addCart","pulse","checkNum","bool","msg","products","column","shuffle","components","SwiperProducts","Loading","data","apiUrl","apiPath","methods","getProduct","this","$route","params","axios","get","then","res","success","$httpToastMessage","catch","error","cart","product_id","url","post","response","emitter","emit","message","getData","created","on","carts","unmounted","off","watch","to","undefined","mounted","render","__scopeId"],"mappings":"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","file":"js/chunk-328eb12f.d02f4dd7.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Detail.vue?vue&type=style&index=0&id=687fd320&lang=scss&scoped=true\"","<template>\n  <loading :active=\"isLoading\"></loading>\n  <div class=\"container\">\n    <div class=\"row align-items-center mt-md-4 mt-3 pt-3\">\n      <div class=\"col-md-7\">\n        <img :src=\"product.imageUrl\" class=\"d-block w-100 img-size\" alt=\"...\" />\n      </div>\n      <div class=\"col-md-5\">\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb bg-white px-0 mb-0 py-3\">\n            <li class=\"breadcrumb-item\"><a class=\"text-muted\" href=\"#\">首頁</a></li>\n            <li class=\"breadcrumb-item\"><a class=\"text-muted\" href=\"#/products\">產品列表</a></li>\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">詳細資料</li>\n          </ol>\n        </nav>\n        <h2 class=\"fw-bold h1 mb-1\">{{ product.title }}</h2>\n\n        <div class=\"row m-4\">\n          <div class=\"col-12\">\n            <p class=\"h5\">{{ product.content }}</p>\n          </div>\n          <div class=\"col-12\">\n            <p class=\"text-muted\">{{ product.description }}</p>\n          </div>\n        </div>\n        <p class=\"mb-0 text-muted text-end\">\n          <del>NT${{ $filter.currency(product.origin_price) }}</del>\n        </p>\n        <p class=\"h4 fw-bold text-end\">NT${{ $filter.currency(product.price) }}</p>\n        <div class=\"row align-items-center\">\n          <div class=\"col-6\">\n            <div class=\"input-group my-3 bg-light rounded  border border-chocolight\">\n              <div class=\"input-group-prepend\">\n                <button\n                  class=\"btn btn-outline-chocolight border-0 py-2\"\n                  type=\"button\"\n                  id=\"button-addon1\"\n                  :disabled=\"qty <= 1\"\n                  @click=\"qty -= 1\"\n                >\n                  <font-awesome-icon icon=\"minus\" class=\"fas fa-minus\"></font-awesome-icon>\n                </button>\n              </div>\n              <input\n                type=\"number\"\n                class=\"form-control border-0 text-center my-auto shadow-none\"\n                ref=\"qty\"\n                aria-label=\"Example text with button addon\"\n                aria-describedby=\"button-addon1\"\n                :disabled=\"loadingStatus != ''\"\n                v-model.number=\"qty\"\n              />\n              <div class=\"input-group-append\">\n                <button\n                  class=\"btn btn-outline-chocolight border-0 py-2\"\n                  type=\"button\"\n                  id=\"button-addon2\"\n                  :disabled=\"loadingStatus != ''\"\n                  @click=\"qty += 1\"\n                >\n                  <font-awesome-icon icon=\"plus\" class=\"fas fa-plus\"></font-awesome-icon>\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-6\">\n            <button\n              href=\"#\"\n              class=\"text-nowrap btn btn-chocolight w-100 py-2\"\n              @click.prevent=\"addCart\"\n              :disabled=\"loadingStatus == 'add'\"\n            >\n              <font-awesome-icon\n                icon=\"spinner\"\n                pulse\n                class=\"fas fa-spinner fa-pulse\"\n                v-if=\"loadingStatus == 'add'\"\n              ></font-awesome-icon\n              >加入購物車\n            </button>\n          </div>\n        </div>\n        <span class=\"text-danger\" v-if=\"checkNum.bool\">{{ checkNum.msg }}</span>\n      </div>\n    </div>\n  </div>\n  <div class=\"product-info mt-md-5 mt-3 bg-mail\">\n    <div class=\"container row mx-auto p-3 pe-md-0 py-md-0\">\n      <div class=\"col-md-6 p-3 px-md-0 py-md-5 lh-lg\">\n        <h2 class=\"fs-4\">注意事項：</h2>\n        <p class=\"mb-4\">\n          巧克屋\n          所有商品皆為天然食材，絕不添加任何防腐劑，商品請放置於低溫處(建議於18℃以下)，並於7日內食用完畢為最佳。\n        </p>\n        <ul class=\"list-unstyled fa-ul m-0 mt-3 ps-4\">\n          <li>\n            <span class=\"fa-li\">\n              <i class=\"fas fa fa-cookie cookie\"></i>\n            </span>\n            請將產品置於陰涼處並請勿置放超過2-3小時\n          </li>\n          <li>\n            <span class=\"fa-li\">\n              <i class=\"fas fa fa-cookie-bite cookie\"></i>\n            </span>\n            巧克力：保存溫度約在攝氏12～18度，濕度則不能超過65%\n          </li>\n          <li>\n            <span class=\"fa-li\">\n              <i class=\"fas fa fa-cookie-bite cookie\"></i>\n            </span>\n            蛋糕類：冷藏保存2日、冷凍保存5日。\n          </li>\n\n          <li>\n            <span class=\"fa-li\">\n              <i class=\"fas fa fa-cookie-bite cookie\"></i>\n            </span>\n            餅乾類：常溫保存1週、冷藏保存2週、冷凍保存1個月。\n          </li>\n        </ul>\n      </div>\n      <div class=\"col-6 d-none d-md-block info-img\">\n        <img\n          class=\"img-fluid\"\n          src=\"https://img.ltn.com.tw/Upload/food/page/2017/08/27/170827-6684-2-G0FVm.jpg\"\n          style=\"height:100%;object-fit: cover;\"\n        />\n      </div>\n    </div>\n  </div>\n  <div class=\"container\">\n    <h3 class=\"fw-bold mt-5\">您可能也會有興趣 :</h3>\n    <Swiper-Products :products=\"products\" :column=\"4\"></Swiper-Products>\n  </div>\n</template>\n\n<script>\nimport SwiperProducts from '@/components/SwiperProducts.vue';\nimport Loading from '@/components/Loading.vue';\n\nconst shuffle = require('lodash.shuffle');\n\nexport default {\n  components: { SwiperProducts, Loading },\n  data() {\n    return {\n      apiUrl: process.env.VUE_APP_API,\n      apiPath: process.env.VUE_APP_PATH,\n      product: {},\n      products: {},\n      qty: 1,\n      loadingStatus: '',\n      isLoading: false,\n      checkNum: {\n        bool: false,\n        msg: '',\n      },\n    };\n  },\n  methods: {\n    getProduct() {\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/product/${this.$route.params.id}`;\n      this.isLoading = true;\n      this.axios\n        .get(apiUrl)\n        .then((res) => {\n          if (res.data.success) {\n            this.product = res.data.product;\n          } else {\n            this.$httpToastMessage(res, '取得商品');\n          }\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpToastMessage(0, error);\n        });\n    },\n    addCart() {\n      this.loadingStatus = 'add';\n      const cart = {\n        product_id: this.$route.params.id,\n        qty: this.qty,\n      };\n      const url = `${this.apiUrl}/api/${this.apiPath}/cart`;\n      this.axios\n        .post(url, { data: cart })\n        .then((response) => {\n          if (response.data.success) {\n            this.emitter.emit('navGetCart');\n            this.$httpToastMessage(response, '加入購物車');\n          } else {\n            this.$httpToastMessage(response, response.data.message);\n          }\n          this.loadingStatus = '';\n        })\n        .catch((error) => {\n          this.loadingStatus = '';\n          this.$httpToastMessage(0, error);\n        });\n    },\n    getData() {\n      this.isLoading = true;\n      this.axios\n        .get(`${this.apiUrl}/api/${this.apiPath}/products/all`)\n        .then((response) => {\n          if (response.data.success) {\n            this.products = shuffle(response.data.products);\n          } else {\n            this.$httpToastMessage(response, response.data.message);\n          }\n          this.isLoading = false;\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          this.$httpToastMessage(0, error);\n        });\n    },\n  },\n  created() {\n    this.emitter.on('cartBus', (carts) => {\n      if (carts) {\n        this.carts = carts;\n      }\n    });\n  },\n  unmounted() {\n    this.emitter.off('cartBus', (carts) => {\n      if (carts) {\n        this.carts = carts;\n      }\n    });\n  },\n  watch: {\n    qty() {\n      if (this.qty < 1) {\n        this.qty = 1;\n        this.checkNum.bool = true;\n        this.checkNum.msg = '數量不能小於0唷';\n      }\n      if (this.qty > 99) {\n        this.qty = 99;\n        this.checkNum.bool = true;\n        this.checkNum.msg = '數量不能大於99唷';\n      }\n    },\n    $route(to) {\n      if (this.product.id === to.params.id || to.params.id === undefined) {\n        return;\n      }\n      this.getProduct();\n    },\n  },\n  mounted() {\n    this.getProduct();\n    this.getData();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.img-size {\n  max-height: 500px;\n  height: 100%;\n  object-fit: cover;\n}\n\n@media (min-width: 768px) {\n  .info-img {\n    max-height: 450px;\n  }\n}\n@media (min-width: 992px) {\n  .info-img {\n    max-height: 350px;\n  }\n}\n</style>\n","import { render } from \"./Detail.vue?vue&type=template&id=687fd320&scoped=true\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=687fd320&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-687fd320\"\n\nexport default script"],"sourceRoot":""}