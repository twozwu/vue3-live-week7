(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef5b852e"],{"38fe":function(t,e,c){},"45aa":function(t,e,c){"use strict";c("38fe")},c84b:function(t,e,c){"use strict";c.r(e);c("a4d3"),c("e01a");var a=c("7a23"),o=Object(a["withScopeId"])("data-v-6ccbf886");Object(a["pushScopeId"])("data-v-6ccbf886");var s={class:"container"},d={class:"row align-items-center mt-5 pt-3"},i={class:"col-md-7"},r={class:"col-md-5"},n=Object(a["createStaticVNode"])('<nav aria-label="breadcrumb" data-v-6ccbf886><ol class="breadcrumb bg-white px-0 mb-0 py-3" data-v-6ccbf886><li class="breadcrumb-item" data-v-6ccbf886><a class="text-muted" href="#" data-v-6ccbf886>首頁</a></li><li class="breadcrumb-item" data-v-6ccbf886><a class="text-muted" href="#/products" data-v-6ccbf886>產品列表</a></li><li class="breadcrumb-item active" aria-current="page" data-v-6ccbf886>詳細資料</li></ol></nav>',1),l={class:"fw-bold h1 mb-1"},u={class:"mb-0 text-muted text-end"},b={class:"h4 fw-bold text-end"},p={class:"row align-items-center"},h={class:"col-6"},m={class:"input-group my-3 bg-light rounded  border border-chocolight"},f={class:"input-group-prepend"},g={class:"input-group-append"},j={class:"col-6"},O=Object(a["createTextVNode"])("加入購物車 "),v={key:0,class:"text-danger"},N={class:"row mt-3 mb-5"},V={class:"col-md-4"},y={class:"h5"},w={class:"col-md-3"},x={class:"text-muted"},k=Object(a["createVNode"])("h3",{class:"fw-bold"},"您可能也會有興趣 :",-1);Object(a["popScopeId"])();var S=o((function(t,e,c,o,S,q){var C=Object(a["resolveComponent"])("loading"),$=Object(a["resolveComponent"])("font-awesome-icon"),T=Object(a["resolveComponent"])("swiper-products");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[Object(a["createVNode"])(C,{active:S.isLoading},null,8,["active"]),Object(a["createVNode"])("div",s,[Object(a["createVNode"])("div",d,[Object(a["createVNode"])("div",i,[Object(a["createVNode"])("img",{src:S.product.imageUrl,class:"d-block w-100 img-size",alt:"..."},null,8,["src"])]),Object(a["createVNode"])("div",r,[n,Object(a["createVNode"])("h2",l,Object(a["toDisplayString"])(S.product.title),1),Object(a["createVNode"])("p",u,[Object(a["createVNode"])("del",null,"NT$"+Object(a["toDisplayString"])(t.$filter.currency(S.product.origin_price)),1)]),Object(a["createVNode"])("p",b,"NT$"+Object(a["toDisplayString"])(t.$filter.currency(S.product.price)),1),Object(a["createVNode"])("div",p,[Object(a["createVNode"])("div",h,[Object(a["createVNode"])("div",m,[Object(a["createVNode"])("div",f,[Object(a["createVNode"])("button",{class:"btn btn-outline-chocolight border-0 py-2",type:"button",id:"button-addon1",disabled:S.qty<=1,onClick:e[1]||(e[1]=function(t){return S.qty-=1})},[Object(a["createVNode"])($,{icon:"minus",class:"fas fa-minus"})],8,["disabled"])]),Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none",ref:"qty","aria-label":"Example text with button addon","aria-describedby":"button-addon1",disabled:""!=S.loadingStatus,"onUpdate:modelValue":e[2]||(e[2]=function(t){return S.qty=t})},null,8,["disabled"]),[[a["vModelText"],S.qty,void 0,{number:!0}]]),Object(a["createVNode"])("div",g,[Object(a["createVNode"])("button",{class:"btn btn-outline-chocolight border-0 py-2",type:"button",id:"button-addon2",disabled:""!=S.loadingStatus,onClick:e[3]||(e[3]=function(t){return S.qty+=1})},[Object(a["createVNode"])($,{icon:"plus",class:"fas fa-plus"})],8,["disabled"])])])]),Object(a["createVNode"])("div",j,[Object(a["createVNode"])("button",{href:"#",class:"text-nowrap btn btn-chocolight w-100 py-2",onClick:e[4]||(e[4]=Object(a["withModifiers"])((function(){return q.addCart&&q.addCart.apply(q,arguments)}),["prevent"])),disabled:"add"==S.loadingStatus},["add"==S.loadingStatus?(Object(a["openBlock"])(),Object(a["createBlock"])($,{key:0,icon:"spinner",pulse:"",class:"fas fa-spinner fa-pulse"})):Object(a["createCommentVNode"])("",!0),O],8,["disabled"])])]),S.checkNum?(Object(a["openBlock"])(),Object(a["createBlock"])("span",v,"數量不能小於0唷")):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])("div",N,[Object(a["createVNode"])("div",V,[Object(a["createVNode"])("p",y,Object(a["toDisplayString"])(S.product.content),1)]),Object(a["createVNode"])("div",w,[Object(a["createVNode"])("p",x,Object(a["toDisplayString"])(S.product.description),1)])]),k,Object(a["createVNode"])(T,{products:S.products,column:4},null,8,["products"])])],64)})),q=(c("99af"),c("262f")),C=c("3a5e"),$=c("e0d5"),T={components:{swiperProducts:q["a"],Loading:C["a"]},data:function(){return{apiUrl:"https://vue3-course-api.hexschool.io",apiPath:"chocolate",product:{},products:{},qty:1,loadingStatus:"",isLoading:!1,checkNum:!1}},methods:{getProduct:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("chocolate","/product/").concat(this.$route.params.id);this.isLoading=!0,this.axios.get(e).then((function(e){e.data.success?t.product=e.data.product:t.$httpToastMessage(e,"取得商品"),t.isLoading=!1})).catch((function(){t.$refs.toast.showToast("無法取得產品資料喔!","error")}))},addCart:function(){var t=this;this.loadingStatus="add";var e={product_id:this.$route.params.id,qty:this.qty},c="".concat(this.apiUrl,"/api/").concat(this.apiPath,"/cart");this.axios.post(c,{data:e}).then((function(e){e.data.success?(t.emitter.emit("navGetCart"),t.$httpToastMessage(e,"加入購物車")):t.$httpToastMessage(e,e.data.message),t.loadingStatus=""})).catch((function(t){return console.log(t)}))},getData:function(){var t=this;this.isLoading=!0,this.axios.get("".concat(this.apiUrl,"/api/").concat(this.apiPath,"/products/all")).then((function(e){e.data.success?t.products=$(e.data.products):t.$httpToastMessage(e,e.data.message),t.isLoading=!1})).catch((function(t){return console.log(t)}))}},created:function(){var t=this;this.emitter.on("cartBus",(function(e){e&&(t.carts=e)}))},watch:{qty:function(){this.qty<1&&(this.qty=1,this.checkNum=!0)},$route:function(t){this.product.id!==t.params.id&&"products"!==t.params.id&&this.getProduct()}},mounted:function(){this.getProduct(),this.getData()}};c("45aa");T.render=S,T.__scopeId="data-v-6ccbf886";e["default"]=T}}]);
//# sourceMappingURL=chunk-ef5b852e.484d547d.js.map