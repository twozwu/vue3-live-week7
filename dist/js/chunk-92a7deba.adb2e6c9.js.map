{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?5937"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","for","href","scope","active","isLoading","ref","createOrder","errors","id","name","type","form","user","email","placeholder","rules","tel","address","rows","message","icon","disabled","Object","keys","length","checkData","carts","item","key","src","product","imageUrl","alt","title","style","$filter","currency","price","qty","unit","total","final_total","components","Loading","data","apiUrl","apiPath","loadingStatus","methods","url","order","axios","post","then","response","success","emitter","emit","$httpToastMessage","$router","push","orderId","console","log","catch","created","on","mounted","computed","attrs","every","render"],"mappings":"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","file":"js/chunk-92a7deba.adb2e6c9.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <loading :active=\"isLoading\"></loading>\n  <div class=\"mt-3\">\n    <h3 class=\"mt-6 mb-4 mx-md-6 px-3 border-start border-5 border-chocolate\">填寫資料</h3>\n    <div class=\"row px-md-6\">\n      <div class=\"col-md-7\">\n        <Form ref=\"form\" v-slot=\"{ errors }\" @submit=\"createOrder\">\n          <p class=\"\">請輸入聯絡資訊：</p>\n          <div class=\"mb-0\">\n            <label for=\"ContactMail\" class=\"text-muted mb-0\"\n              >信箱<span class=\"text-danger\"> *</span></label\n            >\n            <Field\n              id=\"email\"\n              name=\"email\"\n              type=\"email\"\n              class=\"form-control fw-light\"\n              :class=\"{ 'is-invalid': errors['email'], 'is-valid': form.user.email }\"\n              placeholder=\"請輸入 Email\"\n              rules=\"email|required\"\n              v-model=\"form.user.email\"\n            ></Field>\n            <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <p class=\"mt-5\">請輸入寄送資訊：</p>\n          <div class=\"mb-2\">\n            <label for=\"ContactName\" class=\"text-muted mb-0\"\n              >姓名<span class=\"text-danger\"> *</span></label\n            >\n            <Field\n              id=\"name\"\n              name=\"姓名\"\n              type=\"text\"\n              class=\"form-control fw-light\"\n              :class=\"{ 'is-invalid': errors['姓名'], 'is-valid': form.user.name }\"\n              placeholder=\"請輸入姓名\"\n              rules=\"required\"\n              v-model=\"form.user.name\"\n            ></Field>\n            <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-2\">\n            <label for=\"ContactPhone\" class=\"text-muted mb-0\"\n              >連絡電話<span class=\"text-danger\"> *</span></label\n            >\n            <Field\n              id=\"tel\"\n              name=\"電話\"\n              type=\"tel\"\n              class=\"form-control fw-light\"\n              :class=\"{ 'is-invalid': errors['電話'], 'is-valid': form.user.tel }\"\n              placeholder=\"請輸入電話\"\n              rules=\"required|min:8|max:10\"\n              v-model=\"form.user.tel\"\n            ></Field>\n            <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-2\">\n            <label for=\"ContactPhone\" class=\"text-muted mb-0\"\n              >連絡地址<span class=\"text-danger\"> *</span></label\n            >\n            <Field\n              id=\"address\"\n              name=\"地址\"\n              type=\"text\"\n              class=\"form-control fw-light\"\n              :class=\"{ 'is-invalid': errors['地址'], 'is-valid': form.user.address }\"\n              placeholder=\"請輸入地址\"\n              rules=\"required\"\n              v-model=\"form.user.address\"\n            ></Field>\n            <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\n          </div>\n          <div class=\"mb-2\">\n            <label for=\"ContactMessage\" class=\"text-muted mb-0\">意見回覆</label>\n            <textarea\n              class=\"form-control fw-light\"\n              rows=\"6\"\n              id=\"ContactMessage\"\n              placeholder=\"message ... \"\n              v-model=\"form.message\"\n            ></textarea>\n          </div>\n          <div class=\"d-flex mt-4 justify-content-between align-items-end\">\n            <a href=\"#/cart\" class=\"text-dark mt-md-0 mt-3 align-self-center\"\n              ><font-awesome-icon\n                icon=\"chevron-left\"\n                class=\"fas fa-chevron-left me-2\"\n              ></font-awesome-icon>\n              回到上一步</a\n            >\n            <button\n              type=\"submit\"\n              class=\"btn btn-chocolight py-2 px-5\"\n              :disabled=\"Object.keys(errors).length || !checkData\"\n            >\n              送出訂單\n            </button>\n          </div>\n        </Form>\n      </div>\n      <div class=\"col-md-5\">\n        <div class=\"border p-4 mb-4 mt-md-0 mt-6\">\n          <h4 class=\" mb-4\">我的訂單</h4>\n          <div class=\"d-flex mb-2\" v-for=\"item in carts.carts\" :key=\"item.id\">\n            <img\n              :src=\"item.product.imageUrl\"\n              :alt=\"item.product.title\"\n              class=\"me-2\"\n              style=\"width: 48px; height: 48px; object-fit: cover\"\n            />\n            <div class=\"w-100\">\n              <div class=\"d-flex justify-content-between\">\n                <p class=\"mb-0 fw-bold\">{{ item.product.title }}</p>\n                <p class=\"mb-0\">NT${{ $filter.currency(item.product.price) }}</p>\n              </div>\n              <p class=\"mb-0 fw-normal\">x{{ item.qty + item.product.unit }}</p>\n            </div>\n          </div>\n          <table class=\"table text-muted border-top border-bottom mt-4\">\n            <tbody>\n              <tr>\n                <th scope=\"row\" class=\"border-0 px-0 pt-4 font-weight-normal\">原價</th>\n                <td class=\"text-end border-0 px-0 pt-4\">NT${{ $filter.currency(carts.total) }}</td>\n              </tr>\n              <tr>\n                <th scope=\"row\" class=\"border-0 px-0 pt-0 pb-4 font-weight-normal\">付款方式</th>\n                <td class=\"text-end border-0 px-0 pt-0 pb-4\">ApplePay</td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"d-flex justify-content-between mt-4\">\n            <p class=\"mb-0 h4 fw-bold\">總計</p>\n            <p class=\"mb-0 h4 fw-bold\">NT${{ $filter.currency(carts.final_total) }}</p>\n          </div>\n          <a href=\"#/products\" class=\"btn btn-outline-chocolight w-100 mt-4\">繼續購物</a>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped></style>\n\n<script>\nimport Loading from '@/components/Loading.vue';\n\nexport default {\n  components: { Loading },\n  data() {\n    return {\n      apiUrl: process.env.VUE_APP_API,\n      apiPath: process.env.VUE_APP_PATH,\n      carts: {},\n      qty: 1,\n      loadingStatus: '',\n      isLoading: false,\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    createOrder() {\n      this.isLoading = true;\n      const url = `${this.apiUrl}/api/${this.apiPath}/order`;\n      const order = this.form;\n      this.axios\n        .post(url, { data: order })\n        .then((response) => {\n          if (response.data.success) {\n            // this.$refs.form.resetForm();\n            this.isLoading = false;\n            this.emitter.emit('navGetCart');\n            this.$httpToastMessage(response, '訂單送出');\n            this.$router.push(`/cart/order/${response.data.orderId}`);\n          } else {\n            console.log(response.data.message);\n            this.$httpToastMessage(response, response.data.message);\n          }\n        })\n        .catch((error) => console.log(error));\n    },\n  },\n  created() {\n    this.emitter.on('cartBus', (carts) => {\n      if (carts) {\n        this.carts = carts;\n      }\n    });\n  },\n  mounted() {\n    this.emitter.emit('navSendData');\n    this.emitter.emit('toProgress', 50);\n  },\n  computed: {\n    checkData() {\n      const attrs = ['name', 'email', 'tel', 'address'];\n      return attrs.every((item) => this.form.user[item] !== '');\n    },\n  },\n};\n</script>\n","import { render } from \"./Profile.vue?vue&type=template&id=86e7a23c\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}