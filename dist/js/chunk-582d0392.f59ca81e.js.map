{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/Order.vue","webpack:///./src/views/Order.vue?3d30"],"names":["DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","class","scope","colspan","href","Date","toLocaleString","order","create_at","ref","type","value","id","copyOrderID","user","name","email","tel","address","message","is_paid","icon","products","item","key","product","src","imageUrl","alt","title","style","$filter","currency","price","qty","unit","total","checkout","components","data","apiUrl","apiPath","loadingStatus","isLoading","form","methods","getOrder","$route","params","emitter","emit","axios","then","res","success","console","log","$httpToastMessage","catch","post","$router","push","document","execCommand","$refs","orderID","select","mounted","render"],"mappings":"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","file":"js/chunk-582d0392.f59ca81e.js","sourcesContent":["var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","<template>\n  <div class=\"mt-3\">\n    <h3 class=\"my-5 my-md-6 text-center\">\n      感謝您的訂購，歡迎再度光臨！\n    </h3>\n    <div class=\"row px-md-6\">\n      <div class=\"col-md-7\">\n        <table class=\"table table-hover\">\n          <thead class=\"table-chocolate\">\n            <tr>\n              <th scope=\"col\" colspan=\"2\" class=\"text-center fw-light\">\n                以下是您的訂購資訊， 請確認後進行付款。\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <th class=\"text-muted\">訂購時間</th>\n              <td>{{ new Date().toLocaleString(order.create_at) }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-muted\">訂購 ID</th>\n              <td>\n                <input ref=\"orderID\" type=\"text\" :value=\"order.id\" class=\"form-control mb-2\" />\n                <input\n                  type=\"button\"\n                  value=\"點我複製以便查詢\"\n                  @click.prevent=\"copyOrderID\"\n                  class=\"btn btn-outline-chocolight\"\n                />\n              </td>\n            </tr>\n            <tr>\n              <th class=\"text-muted\">訂購人</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-muted\">聯絡信箱</th>\n              <td>{{ order.user.email }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-muted\">聯絡電話</th>\n              <td>{{ order.user.tel }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-muted\">地址</th>\n              <td>{{ order.user.address }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-muted\">您的備註</th>\n              <td>{{ order.message }}</td>\n            </tr>\n            <tr>\n              <th class=\"text-muted\">付款狀態</th>\n              <td>{{ order.is_paid ? '已付款' : '尚未付款' }}</td>\n            </tr>\n          </tbody>\n        </table>\n        <div class=\"d-flex mt-4 justify-content-between align-items-end\">\n          <a href=\"#/products\" class=\"text-dark mt-md-0 mt-3 align-self-center\"\n            ><font-awesome-icon\n              icon=\"chevron-left\"\n              class=\"fas fa-chevron-left me-2\"\n            ></font-awesome-icon>\n            繼續購物</a\n          >\n        </div>\n      </div>\n      <div class=\"col-md-5\">\n        <div class=\"border p-4 mb-4\">\n          <h4 class=\" mb-4\">我的訂單</h4>\n          <div class=\"d-flex mb-2\" v-for=\"item in order.products\" :key=\"item.product.id\">\n            <img\n              :src=\"item.product.imageUrl\"\n              :alt=\"item.product.title\"\n              class=\"me-2\"\n              style=\"width: 48px; height: 48px; object-fit: cover\"\n            />\n            <div class=\"w-100\">\n              <div class=\"d-flex justify-content-between\">\n                <p class=\"mb-0 fw-bold\">{{ item.product.title }}</p>\n                <p class=\"mb-0\">NT${{ $filter.currency(item.product.price) }}</p>\n              </div>\n              <p class=\"mb-0 fw-normal\">x{{ item.qty + item.product.unit }}</p>\n            </div>\n          </div>\n          <table class=\"table text-muted border-top border-bottom mt-4\">\n            <tbody>\n              <tr>\n                <th scope=\"row\" class=\"border-0 px-0 pt-4 font-weight-normal\">原價</th>\n                <td class=\"text-end border-0 px-0 pt-4\">NT${{ $filter.currency(order.total) }}</td>\n              </tr>\n              <tr>\n                <th scope=\"row\" class=\"border-0 px-0 pt-0 pb-4 font-weight-normal\">付款方式</th>\n                <td class=\"text-end border-0 px-0 pt-0 pb-4\">ApplePay</td>\n              </tr>\n            </tbody>\n          </table>\n          <div class=\"d-flex justify-content-between mt-4\">\n            <p class=\"mb-0 h4 fw-bold\">總計</p>\n            <p class=\"mb-0 h4 fw-bold\">NT${{ $filter.currency(order.total) }}</p>\n          </div>\n          <a href=\"#/products\" class=\"btn btn-chocolight w-100 mt-4\" @click.prevent=\"checkout\"\n            >由此付款</a\n          >\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped></style>\n\n<script>\nexport default {\n  components: {},\n  data() {\n    return {\n      apiUrl: process.env.VUE_APP_API,\n      apiPath: process.env.VUE_APP_PATH,\n      order: {\n        user: {},\n      },\n      loadingStatus: '',\n      isLoading: false,\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  methods: {\n    getOrder() {\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/order/${this.$route.params.id}`;\n      this.emitter.emit('isLoading', true);\n      this.axios\n        .get(apiUrl)\n        .then((res) => {\n          if (res.data.success) {\n            this.order = res.data.order;\n            console.log(this.order);\n          } else {\n            this.$httpToastMessage(res, res.data.message);\n          }\n          this.emitter.emit('isLoading', false);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    checkout() {\n      const apiUrl = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/pay/${this.$route.params.id}`;\n      this.emitter.emit('isLoading', true);\n      this.axios\n        .post(apiUrl)\n        .then((res) => {\n          if (res.data.success) {\n            this.$httpToastMessage(res, res.data.message);\n            this.$router.push('/success');\n          } else {\n            this.$httpToastMessage(res, res.data.message);\n          }\n          this.emitter.emit('isLoading', false);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    copyOrderID() {\n      document.execCommand('Copy', false, this.$refs.orderID.select());\n    },\n  },\n  mounted() {\n    this.getOrder();\n    this.emitter.emit('toProgress', 100);\n  },\n};\n</script>\n","import { render } from \"./Order.vue?vue&type=template&id=99ca1f66\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}